# Игра про шарики

Интерактивная игра с анимированными шариками, где вы можете управлять шариками с помощью мыши, смешивать их цвета и экспериментировать с физикой движения.

## Описание игры

Игра представляет собой интерактивное поле с движущимися шариками разных цветов. Основные возможности:

- **Движение шариков**: Шарики автоматически движутся по экрану и отражаются от границ
- **Всасывание шариков**: Левая кнопка мыши позволяет "всасывать" шарики в инвентарь, когда они находятся в радиусе действия
- **Выпускание шариков**: Правая кнопка мыши выпускает шарики из инвентаря обратно на поле
- **Смешивание цветов**: При столкновении шарики смешивают свои цвета математическим усреднением RGB компонентов
- **Зона удаления**: Нижняя часть экрана является зоной удаления - шарики, попавшие туда, автоматически удаляются
- **Инвентарь**: Всасанные шарики отображаются в инвентаре в верхнем левом углу

## Управление

- **Левая кнопка мыши (ЛКМ)** - всасывать шарики в инвентарь
- **Правая кнопка мыши (ПКМ)** - выпускать шарики из инвентаря
- **R** - перезапустить игру (очистить поле и создать новые шарики)
- **ESC** - выйти из игры

## Локальный запуск

### Требования

- Python 3.10 или выше
- pip (менеджер пакетов Python)

### Установка зависимостей

```bash
pip install -r requirements.txt
```

### Запуск игры

```bash
python gui.py
```

Или на Linux/Mac:

```bash
python3 gui.py
```

## Запуск через Docker

Игра может быть запущена в Docker-контейнере с поддержкой графического интерфейса через X11.

### Предварительные требования

Для запуска графического интерфейса из Docker-контейнера необходимо:

**На Linux:**
- X11 сервер (обычно уже установлен)
- Разрешить доступ к X11 для Docker:
  ```bash
  xhost +local:docker
  ```

**На Windows:**
- Установить X11 сервер (например, VcXsrv или Xming)
- Запустить X11 сервер перед запуском контейнера
- Настроить переменную окружения DISPLAY

**На macOS:**
- Установить XQuartz
- Запустить XQuartz перед запуском контейнера
- Разрешить сетевые подключения в XQuartz

### Сборка Docker-образа

```bash
docker build -t ball-game .
```

### Запуск Docker-контейнера

**На Linux:**
```bash
docker run -it --rm \
  -e DISPLAY=$DISPLAY \
  -v /tmp/.X11-unix:/tmp/.X11-unix \
  --device /dev/dri \
  ball-game
```

**На Windows (с VcXsrv):**
```bash
docker run -it --rm \
  -e DISPLAY=host.docker.internal:0.0 \
  ball-game
```

**На macOS (с XQuartz):**
```bash
docker run -it --rm \
  -e DISPLAY=host.docker.internal:0 \
  ball-game
```

### Альтернативный способ (для Windows WSL2)

Если вы используете WSL2:

```bash
export DISPLAY=$(cat /etc/resolv.conf | grep nameserver | awk '{print $2}'):0.0
docker run -it --rm \
  -e DISPLAY=$DISPLAY \
  ball-game
```

## Структура проекта

```
lr6.2/
├── gui.py              # Точка входа - графический интерфейс игры
├── logic.py             # Игровая логика (движение, столкновения, смешивание цветов)
├── requirements.txt     # Зависимости Python
├── Dockerfile           # Конфигурация Docker-контейнера
└── README.md           # Документация проекта
```

## Технические детали

- **Графическая библиотека**: Pygame 2.5.0+
- **Язык программирования**: Python 3.10+
- **Архитектура**: Разделение логики (logic.py) и интерфейса (gui.py)
- **Смешивание цветов**: Математическое усреднение RGB компонентов
- **Физика**: Шарики не отталкиваются при столкновении, только смешивают цвета

## Настройки

В файле `gui.py` можно изменить:

- `STARTING_BALLS_COUNT` - количество шариков при старте (по умолчанию: 15)
- `SCREEN_WIDTH` и `SCREEN_HEIGHT` - размеры окна (по умолчанию: 1000x700)

В файле `logic.py` можно настроить:

- Радиус всасывания (`suction_radius`)
- Высоту зоны удаления (`delete_zone_height`)
- Скорость движения шариков (в конструкторе класса `Ball`)

## Разработка

Проект использует Git Flow:

- `main` - основная ветка
- `develop` - ветка разработки
- `feature/*` - ветки для новых функций
- `release/*` - ветки для релизов

## Лицензия

Проект создан в учебных целях.

